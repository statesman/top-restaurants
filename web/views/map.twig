{% extends "base.twig" %}

{% block content %}
</div>
  <div class="container">
    <div class="col-xs-12">
      <ul class="list-inline pull-left">
        <li><a href="{{resourceurl}}"><span class="typcn typcn-th-list"></span> List view</a></li>
      </ul>
      <ul class="list-inline pull-right social-share">
        <li><a href="#"><span class="typcn typcn-social-facebook-circular"></span></a></li>
        <li><a href="#"><span class="typcn typcn-social-twitter-circular"></span></a></li>
        <li><a href="#"><span class="typcn typcn-social-google-plus-circular"></span></a></li>
      </ul>
    </div>
  </div>

  <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script src="{{resourceurl}}bower_components/gmaps/gmaps.js"></script>
  <div id="map" style="width:100%;height: 500px;"></div>
  <script>
  $(function() {
    var headerHeight = $('.header').outerHeight();
    var winHeight = $(window).height();
    $('#map').height(winHeight - headerHeight - 50);
  });
  </script>
  <script>
    var map = new GMaps({
      div: '#map',
      lat: 30.2500,
      lng: -97.7500,
      mapType: 'terrain'
    });
    var markers = [];
    {% for location in locations %}
      markers.push({
        lat: {{location.lat}},
        lng: {{location.long}},
        icon: '{{resourceurl}}assets/markers/{{location.position}}.png',
        infoWindow: {
          content: '<h3 style="overflow:hidden;margin:0;min-width:95px;">{{location.name}}</h3>'
        }
      });
    {% endfor %}
    map.addMarkers(markers);
    map.fitZoom();
  </script>
<div class="container">
{% endblock %}
